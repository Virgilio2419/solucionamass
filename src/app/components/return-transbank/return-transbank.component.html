<!-- src/assets/return-transbank.html -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Redirigiendo...</title>
</head>
<body>
  <p>Redirigiendo al sistema...</p>
  <script>
    // Extraer los parámetros que Transbank envía
    const params = new URLSearchParams(window.location.search);
    const token = params.get('token_ws');
    const paymentId = params.get('paymentId');
    const servicioId = params.get('servicioId');

    if (token && paymentId && servicioId) {
      // Redirige usando GET a Angular
      window.location.href = `/return-transbank?token_ws=${token}&paymentId=${paymentId}&servicioId=${servicioId}`;
    } else {
      document.body.innerHTML = 'Error: Parámetros no válidos';
    }
  </script>
</body>
</html>
